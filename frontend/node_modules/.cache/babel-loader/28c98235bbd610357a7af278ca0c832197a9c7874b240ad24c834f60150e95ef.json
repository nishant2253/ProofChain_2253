{"ast":null,"code":"import React,{useState,useEffect,useCallback}from\"react\";import{useParams,Link}from\"react-router-dom\";import{motion}from\"framer-motion\";import{getContentById}from\"../utils/api\";import{formatDate,getVotingPhase,parseErrorMessage}from\"../utils/helpers\";import VotingInterface from\"../components/VotingInterface\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ContentDetailPage=()=>{var _content$blockchainRe,_content$blockchainRe2;const{id}=useParams();const[content,setContent]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const fetchContentDetails=useCallback(async()=>{try{setLoading(true);const data=await getContentById(id);setContent(data);setError(null);}catch(err){console.error(\"Error fetching content details:\",err);setError(parseErrorMessage(err));}finally{setLoading(false);}},[id]);// Fetch content details on component mount\nuseEffect(()=>{fetchContentDetails();},[fetchContentDetails]);// Handle vote completion (refresh data)\nconst handleVoteComplete=phase=>{fetchContentDetails();};// Render loading state\nif(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center py-20\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600\"})});}// Render error state\nif(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-100 text-red-700 p-6 rounded-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-2\",children:\"Error Loading Content\"}),/*#__PURE__*/_jsx(\"p\",{children:error}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"text-primary-600 hover:underline mt-4 inline-block\",children:\"Return to Home\"})]});}// Render not found state\nif(!content){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-4\",children:\"Content Not Found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"The content you're looking for doesn't exist or has been removed.\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"btn-primary\",children:\"Return to Home\"})]});}// Determine voting phase\nconst votingPhase=getVotingPhase(content);// Format voting phase for display\nconst formatVotingPhase=phase=>{switch(phase){case\"commit\":return\"Commit Phase\";case\"reveal\":return\"Reveal Phase\";case\"pending\":return\"Pending Finalization\";case\"finalized\":return\"Finalized\";default:return\"Unknown\";}};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"text-primary-600 hover:underline mb-4 inline-block\",children:\"\\u2190 Back to Content List\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900 mt-2\",children:content.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mt-2 space-x-4\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-500\",children:[\"Submitted by \",content.creator,\" on\",\" \",formatDate(content.submissionTime)]}),/*#__PURE__*/_jsx(\"span\",{className:\"\\n            px-2 py-1 text-xs font-medium rounded-full\\n            \".concat(votingPhase===\"commit\"?\"bg-blue-100 text-blue-800\":\"\",\"\\n            \").concat(votingPhase===\"reveal\"?\"bg-purple-100 text-purple-800\":\"\",\"\\n            \").concat(votingPhase===\"pending\"?\"bg-yellow-100 text-yellow-800\":\"\",\"\\n            \").concat(votingPhase===\"finalized\"?\"bg-green-100 text-green-800\":\"\",\"\\n          \"),children:formatVotingPhase(votingPhase)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-2 space-y-6\",children:[/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},className:\"bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"Content Details\"}),/*#__PURE__*/_jsx(\"div\",{className:\"prose max-w-none\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700\",children:content.description})}),content.contentUrl&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium mb-2\",children:\"Content URL\"}),/*#__PURE__*/_jsx(\"a\",{href:content.contentUrl.startsWith(\"ipfs://\")?\"\".concat(process.env.REACT_APP_IPFS_GATEWAY).concat(content.contentUrl.substring(7)):content.contentUrl,target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-primary-600 hover:underline break-all\",children:content.contentUrl})]}),content.tags&&content.tags.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium mb-2\",children:\"Tags\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:content.tags.map((tag,index)=>/*#__PURE__*/_jsx(\"span\",{className:\"bg-gray-100 text-gray-800 px-2 py-1 rounded-md text-sm\",children:tag},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 border-t border-gray-200 pt-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium mb-2\",children:\"Voting Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700\",children:\"Commit Phase Deadline:\"}),/*#__PURE__*/_jsx(\"span\",{children:formatDate(content.commitDeadline)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700\",children:\"Reveal Phase Deadline:\"}),/*#__PURE__*/_jsx(\"span\",{children:formatDate(content.revealDeadline)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700\",children:\"Commit Count:\"}),/*#__PURE__*/_jsx(\"span\",{children:content.commitCount||0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700\",children:\"Reveal Count:\"}),/*#__PURE__*/_jsx(\"span\",{children:content.revealCount||0})]})]})]})]}),votingPhase===\"finalized\"&&content.blockchainResults&&/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},className:\"bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"Voting Results\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700\",children:\"Final Result:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:content.blockchainResults.winningOption===1?\"Approved\":\"Rejected\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700\",children:\"Total Participants:\"}),/*#__PURE__*/_jsx(\"span\",{children:content.blockchainResults.totalParticipants})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700\",children:\"Total USD Value Staked:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",content.blockchainResults.totalUSDValue]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium mb-2\",children:\"Vote Distribution\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-8 bg-gray-200 rounded-full overflow-hidden\",children:content.blockchainResults.voteDistribution&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-full bg-green-500\",style:{width:\"\".concat(content.blockchainResults.voteDistribution[1]/(content.blockchainResults.voteDistribution[0]+content.blockchainResults.voteDistribution[1])*100,\"%\"),float:\"left\"}}),/*#__PURE__*/_jsx(\"div\",{className:\"h-full bg-red-500\",style:{width:\"\".concat(content.blockchainResults.voteDistribution[0]/(content.blockchainResults.voteDistribution[0]+content.blockchainResults.voteDistribution[1])*100,\"%\"),float:\"left\"}})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between mt-1 text-sm\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Approve:\",\" \",((_content$blockchainRe=content.blockchainResults.voteDistribution)===null||_content$blockchainRe===void 0?void 0:_content$blockchainRe[1])||0]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Reject:\",\" \",((_content$blockchainRe2=content.blockchainResults.voteDistribution)===null||_content$blockchainRe2===void 0?void 0:_content$blockchainRe2[0])||0]})]})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-1\",children:/*#__PURE__*/_jsx(VotingInterface,{content:content,onVoteComplete:handleVoteComplete})})]})]});};export default ContentDetailPage;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useParams","Link","motion","getContentById","formatDate","getVotingPhase","parseErrorMessage","VotingInterface","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ContentDetailPage","_content$blockchainRe","_content$blockchainRe2","id","content","setContent","loading","setLoading","error","setError","fetchContentDetails","data","err","console","handleVoteComplete","phase","className","children","to","votingPhase","formatVotingPhase","title","creator","submissionTime","concat","div","initial","opacity","animate","description","contentUrl","href","startsWith","process","env","REACT_APP_IPFS_GATEWAY","substring","target","rel","tags","length","map","tag","index","commitDeadline","revealDeadline","commitCount","revealCount","blockchainResults","winningOption","totalParticipants","totalUSDValue","voteDistribution","style","width","float","onVoteComplete"],"sources":["/home/nishant/proofchain/frontend/src/pages/ContentDetailPage.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\nimport { motion } from \"framer-motion\";\nimport { getContentById } from \"../utils/api\";\nimport {\n  formatDate,\n  getVotingPhase,\n  parseErrorMessage,\n} from \"../utils/helpers\";\nimport VotingInterface from \"../components/VotingInterface\";\n\nconst ContentDetailPage = () => {\n  const { id } = useParams();\n\n  const [content, setContent] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  const fetchContentDetails = useCallback(async () => {\n    try {\n      setLoading(true);\n      const data = await getContentById(id);\n      setContent(data);\n      setError(null);\n    } catch (err) {\n      console.error(\"Error fetching content details:\", err);\n      setError(parseErrorMessage(err));\n    } finally {\n      setLoading(false);\n    }\n  }, [id]);\n\n  // Fetch content details on component mount\n  useEffect(() => {\n    fetchContentDetails();\n  }, [fetchContentDetails]);\n\n  // Handle vote completion (refresh data)\n  const handleVoteComplete = (phase) => {\n    fetchContentDetails();\n  };\n\n  // Render loading state\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center py-20\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600\"></div>\n      </div>\n    );\n  }\n\n  // Render error state\n  if (error) {\n    return (\n      <div className=\"bg-red-100 text-red-700 p-6 rounded-md\">\n        <h2 className=\"text-xl font-semibold mb-2\">Error Loading Content</h2>\n        <p>{error}</p>\n        <Link\n          to=\"/\"\n          className=\"text-primary-600 hover:underline mt-4 inline-block\"\n        >\n          Return to Home\n        </Link>\n      </div>\n    );\n  }\n\n  // Render not found state\n  if (!content) {\n    return (\n      <div className=\"text-center py-12\">\n        <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">\n          Content Not Found\n        </h2>\n        <p className=\"text-gray-600 mb-6\">\n          The content you're looking for doesn't exist or has been removed.\n        </p>\n        <Link to=\"/\" className=\"btn-primary\">\n          Return to Home\n        </Link>\n      </div>\n    );\n  }\n\n  // Determine voting phase\n  const votingPhase = getVotingPhase(content);\n\n  // Format voting phase for display\n  const formatVotingPhase = (phase) => {\n    switch (phase) {\n      case \"commit\":\n        return \"Commit Phase\";\n      case \"reveal\":\n        return \"Reveal Phase\";\n      case \"pending\":\n        return \"Pending Finalization\";\n      case \"finalized\":\n        return \"Finalized\";\n      default:\n        return \"Unknown\";\n    }\n  };\n\n  return (\n    <div className=\"space-y-8\">\n      <div>\n        <Link\n          to=\"/\"\n          className=\"text-primary-600 hover:underline mb-4 inline-block\"\n        >\n          ← Back to Content List\n        </Link>\n\n        <h1 className=\"text-3xl font-bold text-gray-900 mt-2\">\n          {content.title}\n        </h1>\n\n        <div className=\"flex items-center mt-2 space-x-4\">\n          <span className=\"text-gray-500\">\n            Submitted by {content.creator} on{\" \"}\n            {formatDate(content.submissionTime)}\n          </span>\n\n          <span\n            className={`\n            px-2 py-1 text-xs font-medium rounded-full\n            ${votingPhase === \"commit\" ? \"bg-blue-100 text-blue-800\" : \"\"}\n            ${votingPhase === \"reveal\" ? \"bg-purple-100 text-purple-800\" : \"\"}\n            ${votingPhase === \"pending\" ? \"bg-yellow-100 text-yellow-800\" : \"\"}\n            ${votingPhase === \"finalized\" ? \"bg-green-100 text-green-800\" : \"\"}\n          `}\n          >\n            {formatVotingPhase(votingPhase)}\n          </span>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n        {/* Content details */}\n        <div className=\"lg:col-span-2 space-y-6\">\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            className=\"bg-white p-6 rounded-lg shadow-md\"\n          >\n            <h2 className=\"text-xl font-semibold mb-4\">Content Details</h2>\n\n            <div className=\"prose max-w-none\">\n              <p className=\"text-gray-700\">{content.description}</p>\n            </div>\n\n            {content.contentUrl && (\n              <div className=\"mt-6\">\n                <h3 className=\"text-lg font-medium mb-2\">Content URL</h3>\n                <a\n                  href={\n                    content.contentUrl.startsWith(\"ipfs://\")\n                      ? `${\n                          process.env.REACT_APP_IPFS_GATEWAY\n                        }${content.contentUrl.substring(7)}`\n                      : content.contentUrl\n                  }\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"text-primary-600 hover:underline break-all\"\n                >\n                  {content.contentUrl}\n                </a>\n              </div>\n            )}\n\n            {content.tags && content.tags.length > 0 && (\n              <div className=\"mt-6\">\n                <h3 className=\"text-lg font-medium mb-2\">Tags</h3>\n                <div className=\"flex flex-wrap gap-2\">\n                  {content.tags.map((tag, index) => (\n                    <span\n                      key={index}\n                      className=\"bg-gray-100 text-gray-800 px-2 py-1 rounded-md text-sm\"\n                    >\n                      {tag}\n                    </span>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            <div className=\"mt-6 border-t border-gray-200 pt-6\">\n              <h3 className=\"text-lg font-medium mb-2\">Voting Information</h3>\n              <div className=\"space-y-2\">\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-700\">Commit Phase Deadline:</span>\n                  <span>{formatDate(content.commitDeadline)}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-700\">Reveal Phase Deadline:</span>\n                  <span>{formatDate(content.revealDeadline)}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-700\">Commit Count:</span>\n                  <span>{content.commitCount || 0}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-700\">Reveal Count:</span>\n                  <span>{content.revealCount || 0}</span>\n                </div>\n              </div>\n            </div>\n          </motion.div>\n\n          {/* Blockchain results (if finalized) */}\n          {votingPhase === \"finalized\" && content.blockchainResults && (\n            <motion.div\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              className=\"bg-white p-6 rounded-lg shadow-md\"\n            >\n              <h2 className=\"text-xl font-semibold mb-4\">Voting Results</h2>\n\n              <div className=\"space-y-4\">\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-700\">Final Result:</span>\n                  <span className=\"font-medium\">\n                    {content.blockchainResults.winningOption === 1\n                      ? \"Approved\"\n                      : \"Rejected\"}\n                  </span>\n                </div>\n\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-700\">Total Participants:</span>\n                  <span>{content.blockchainResults.totalParticipants}</span>\n                </div>\n\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-700\">Total USD Value Staked:</span>\n                  <span>${content.blockchainResults.totalUSDValue}</span>\n                </div>\n\n                <div>\n                  <h3 className=\"text-lg font-medium mb-2\">\n                    Vote Distribution\n                  </h3>\n                  <div className=\"h-8 bg-gray-200 rounded-full overflow-hidden\">\n                    {content.blockchainResults.voteDistribution && (\n                      <>\n                        <div\n                          className=\"h-full bg-green-500\"\n                          style={{\n                            width: `${\n                              (content.blockchainResults.voteDistribution[1] /\n                                (content.blockchainResults.voteDistribution[0] +\n                                  content.blockchainResults\n                                    .voteDistribution[1])) *\n                              100\n                            }%`,\n                            float: \"left\",\n                          }}\n                        ></div>\n                        <div\n                          className=\"h-full bg-red-500\"\n                          style={{\n                            width: `${\n                              (content.blockchainResults.voteDistribution[0] /\n                                (content.blockchainResults.voteDistribution[0] +\n                                  content.blockchainResults\n                                    .voteDistribution[1])) *\n                              100\n                            }%`,\n                            float: \"left\",\n                          }}\n                        ></div>\n                      </>\n                    )}\n                  </div>\n                  <div className=\"flex justify-between mt-1 text-sm\">\n                    <span>\n                      Approve:{\" \"}\n                      {content.blockchainResults.voteDistribution?.[1] || 0}\n                    </span>\n                    <span>\n                      Reject:{\" \"}\n                      {content.blockchainResults.voteDistribution?.[0] || 0}\n                    </span>\n                  </div>\n                </div>\n              </div>\n            </motion.div>\n          )}\n        </div>\n\n        {/* Voting interface */}\n        <div className=\"lg:col-span-1\">\n          <VotingInterface\n            content={content}\n            onVoteComplete={handleVoteComplete}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ContentDetailPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}